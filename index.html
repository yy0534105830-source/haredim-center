 <!DOCTYPE html>

<html lang="he" dir="rtl">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>חדשות חרדים | הפורטל המרכזי</title>

    <link href="https://fonts.googleapis.com/css2? family=Assistant:wght@300;400;700;800&family=Frank+Ruhl+Libre:wght@700;900&display=swap" rel="stylesheet">

    <style>

        :root {

            --primary: #002347; /* כחול כהה מקצועי */

            --accent: #c5a059;  /* זהב עיתונות */

            --danger: #e31e24;  /* אדום מבזקים */

            --bg: #f4f7f9;

            --white: #ffffff;

            --text: #1a1a1a;

            --radius: 8px;

            --shadow: 0 4px 12px rgba(0,0,0,0.08);

        }



        body { font-family: 'Assistant', sans-serif; background-color: var(--bg); margin: 0; color: var(--text); line-height: 1.6; }



        /* --- שורת מידע עליונה --- */

        .top-info-bar { background: #eee; border-bottom: 1px solid #ddd; padding: 10px 40px; display: flex; justify-content: space-between; font-size: 0.85rem; font-weight: 700; }

        .info-right { display: flex; gap: 15px; }

        .zmanim-bar { color: var(--primary); }



        header { background: var(--primary); padding: 25px; text-align: center; color: white; border-bottom: 4px solid var(--accent); }

        header h1 { font-family: 'Frank Ruhl Libre', serif; font-size: 3.5rem; margin: 0; cursor: pointer; letter-spacing: -1px; }



        .nav-wrapper { background: white; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 15px 40px; display: flex; justify-content: center; }

        nav { display: flex; gap: 30px; }

        .nav-link { font-weight: 800; color: var(--primary); cursor: pointer; text-decoration: none; font-size: 1.1rem; }

        .nav-link:hover { color: var(--accent); }



        .container { max-width: 1400px; margin: 25px auto; padding: 0 20px; }



        /* --- ה-Hero החדש (ימין:בינוני, מרכז:2 קטנים, שמאל:מבזקים) --- */

        .hero-section { display: flex; gap: 20px; height: 500px; margin-bottom: 40px; }



        .hero-medium { flex: 1.5; position: relative; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); cursor: pointer; }

        .hero-stack { flex: 1; display: flex; flex-direction: column; gap: 20px; }

        .hero-small { flex: 1; position: relative; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); cursor: pointer; }

        

        .hero-flashes { width: 320px; background: white; border-radius: var(--radius); border-top: 4px solid var(--danger); box-shadow: var(--shadow); display: flex; flex-direction: column; }

        .flashes-head { padding: 15px; font-weight: 800; font-size: 1.2rem; display: flex; align-items: center; gap: 10px; border-bottom: 1px solid #eee; }

        .live-dot { width: 10px; height: 10px; background: var(--danger); border-radius: 50%; animation: pulse 1s infinite; }

        .flashes-body { flex: 1; overflow-y: auto; }

        .flash-row { padding: 12px 15px; border-bottom: 1px dotted #ccc; font-size: 0.95rem; font-weight: 700; }



        .img-box { width: 100%; height: 100%; object-fit: cover; transition: 0.4s; }

        .hero-medium:hover .img-box, .hero-small:hover .img-box { transform: scale(1.05); }

        .overlay-text { position: absolute; bottom: 0; padding: 25px; background: linear-gradient(transparent, rgba(0,0,0,0.9)); color: white; width: 100%; box-sizing: border-box; }



        /* --- גריד כתבות --- */

        .news-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }

        .news-card { background: white; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); cursor: pointer; border: 1px solid #eee; transition: 0.3s; }

        .news-card:hover { transform: translateY(-5px); }

        .news-card img { width: 100%; height: 170px; object-fit: cover; }

        .card-content { padding: 15px; }

        .card-cat { color: var(--accent); font-weight: 800; font-size: 0.75rem; display: block; margin-bottom: 5px; }

        .card-title { font-weight: 700; font-size: 1.05rem; margin: 0; }



        .divider { margin: 50px 0; border-top: 2px solid var(--primary); position: relative; }

        .divider span { position: absolute; top: -16px; left: 50%; transform: translateX(-50%); background: var(--bg); padding: 0 25px; font-weight: 900; color: var(--primary); font-size: 1.3rem; }



        /* --- פוטר --- */

        footer { background: var(--primary); color: white; padding: 60px 40px 20px; margin-top: 60px; }

        .footer-grid { max-width: 1300px; margin: 0 auto; display: grid; grid-template-columns: repeat(3, 1fr); gap: 50px; }

        .footer-col h3 { color: var(--accent); margin-bottom: 25px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; }

        .footer-links { list-style: none; padding: 0; }

        .footer-links li { margin-bottom: 12px; cursor: pointer; opacity: 0.8; }

        .footer-links li:hover { opacity: 1; padding-right: 5px; color: var(--accent); }



        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }

        @media (max-width: 1100px) { .hero-section, .news-grid, .footer-grid { display: block; } .hero-section { height: auto; } .hero-medium, .hero-small, .hero-flashes { width: 100%; height: 300px; margin-bottom: 20px; } }

    </style>

</head>

<body>



<div class="top-info-bar">

    <div class="info-right">

        <span id="date-heb">טוען תאריך עברי...</span>

        <span>|</span>

        <span>בני ברק: <strong>21°C</strong></span>

    </div>

    <div class="zmanim-bar">

        הדלקת נרות: 17:15 | צאת השבת: 18:28 | סוף זמן ק"ש: 09:10

    </div>

</div>



<header onclick="showHome()"><h1>חדשות חרדים</h1></header>



<div class="nav-wrapper">

    <nav id="main-nav"></nav>

</div>



<div class="container" id="home-view">

    <div class="hero-section">

        <div id="hero-med" class="hero-medium"></div>



        <div id="hero-center" class="hero-stack"></div>



        <div class="hero-flashes">

            <div class="flashes-head"><div class="live-dot"></div>מבזקים שוטפים</div>

            <div id="flashes-list" class="flashes-body"></div>

        </div>

    </div>



    <div id="row-1" class="news-grid"></div>



    <div class="divider"><span>עוד כתבות מהשטח</span></div>



    <div id="more-rows" class="news-grid"></div>

</div>



<div id="article-view" class="container" style="display:none; background:white; padding:40px; border-radius:var(--radius); box-shadow: var(--shadow);">

    <button onclick="showHome()" style="background:var(--primary); color:white; border:none; padding:10px 20px; cursor:pointer; font-weight:800; margin-bottom:20px; border-radius:4px;">← חזרה לראשי</button>

    <div id="art-content"></div>

</div>



<footer>

    <div class="footer-grid">

        <div class="footer-col">

            <h3>ניווט מהיר</h3>

            <ul id="footer-nav" class="footer-links"></ul>

        </div>

        <div class="footer-col">

            <h3>מידע למשתמש</h3>

            <ul class="footer-links">

                <li onclick="showHome()">דף הבית</li>

                <li>מערכת המבזקים</li>

                <li>תנאי שימוש</li>

                <li>מייל אדום</li>

            </ul>

        </div>

        <div class="footer-col">

            <h3>יצירת קשר</h3>

            <div style="font-size: 0.9rem; line-height: 2;">

                <p><strong>מייל:</strong> editor@haredi-news.co.il</p>

                <p><strong>וואטסאפ:</strong> 050-XXXXXXX</p>

                <p><strong>כתובת:</strong> בני ברק, ישראל</p>

            </div>

        </div>

    </div>

</footer>



<script>

    const repo = 'yy0534105830-source/news';

    const rawBase = 'https://raw.githubusercontent.com/' + repo + '/main/';

    let articles = [];



    async function start() {

        document.getElementById('date-heb').innerText = "יום שישי, י' בשבט תשפ\"ו";

        try {

            // טעינת מבזקים

            const fRes = await fetch(`https://api.github.com/repos/${repo}/contents/content/flashes`);

            const fFiles = await fRes.json();

            const flashData = await Promise.all(fFiles.reverse().slice(0,12).map(async f => {

                const r = await fetch(f.download_url);

                const t = await r.text();

                return t.split('title:')[1]?.split('\n')[0].replace(/['"]/g,'').trim() || "";

            }));

            document.getElementById('flashes-list').innerHTML = flashData.map(m => `<div class="flash-row">${m}</div>`).join('');



            // טעינת כתבות

            const bRes = await fetch(`https://api.github.com/repos/${repo}/contents/content/blog`);

            const bFiles = await bRes.json();

            articles = await Promise.all(bFiles.reverse().map(async f => {

                const r = await fetch(f.download_url);

                const t = await r.text();

                const m = { title: "כתבה", category: "כללי", img: "", body: "" };

                t.split('\n').forEach(l => {

                    if (l.startsWith('title:')) m.title = l.split(':')[1].trim().replace(/['"]/g, '');

                    if (l.startsWith('category:')) m.category = l.split(':')[1].trim().replace(/['"]/g, '');

                    if (l.startsWith('thumbnail:')) {

                        let img = l.split(':')[1].trim().replace(/['"]/g, '');

                        m.img = img.startsWith('http') ? img : rawBase + "images/" + img.replace(/^\/?images\//, '');

                    }

                });

                m.body = t.split('---').pop().trim();

                return m;

            }));

            render();

        } catch(e) { console.error(e); }

    }



    function render() {

        const cats = ['הכל', ...new Set(articles.map(a => a.category))];

        document.getElementById('main-nav').innerHTML = cats.map(c => `<div class="nav-link" onclick="filterBy('${c}')">${c}</div>`).join('');

        document.getElementById('footer-nav').innerHTML = cats.map(c => `<li onclick="filterBy('${c}')">${c}</li>`).join('');



        // Hero ימין: כתבה 1

        const a1 = articles[0];

        document.getElementById('hero-med').innerHTML = `<div onclick="openArt(0)" style="height:100%"><img src="${a1.img}" class="img-box"><div class="overlay-text"><h2>${a1.title}</h2></div></div>`;



        // Hero מרכז: כתבות 2-3

        document.getElementById('hero-center').innerHTML = articles.slice(1,3).map((a,i) => `

            <div class="hero-small" onclick="openArt(${i+1})">

                <img src="${a.img}" class="img-box">

                <div class="overlay-text"><h2 style="font-size:1.1rem;">${a.title}</h2></div>

            </div>`).join('');



        // שורה ראשונה (4 כתבות)

        document.getElementById('row-1').innerHTML = articles.slice(3,7).map((a,i) => createCard(a, i+3)).join('');



        // עוד 3 שורות (12 כתבות)

        document.getElementById('more-rows').innerHTML = articles.slice(7,19).map((a,i) => createCard(a, i+7)).join('');

    }



    function createCard(a, idx) {

        return `

            <div class="news-card" onclick="openArt(${idx})">

                <img src="${a.img}" onerror="this.src='https://via.placeholder.com/300x170'">

                <div class="card-content">

                    <span class="card-cat">${a.category}</span>

                    <h3 class="card-title">${a.title}</h3>

                </div>

            </div>`;

    }



    function openArt(idx) {

        const a = articles[idx];

        document.getElementById('home-view').style.display='none';

        document.getElementById('article-view').style.display='block';

        document.getElementById('art-content').innerHTML = `

            <span style="color:var(--accent); font-weight:800;">${a.category}</span>

            <h1 style="font-family:'Frank Ruhl Libre'; font-size:2.8rem; margin:10px 0;">${a.title}</h1>

            <img src="${a.img}" style="width:100%; border-radius:10px; margin:20px 0;">

            <div style="font-size:1.4rem; line-height:1.8;">${a.body}</div>`;

        window.scrollTo(0,0);

    }



    function showHome() {

        document.getElementById('home-view').style.display='block';

        document.getElementById('article-view').style.display='none';

    }



    start();

</script>

</body>

</html>  
