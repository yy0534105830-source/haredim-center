<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מרכז החרדים | המהדורה המרכזית</title>
    <style>
        :root {
            --walla-blue: #004fc5;
            --n12-red: #d92128;
            --bg-gray: #f4f6f9;
        }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; background-color: var(--bg-gray); color: #333; }
        
        /* כותרת עליונה */
        header { background: var(--walla-blue); color: white; padding: 15px 0; text-align: center; box-shadow: 0 3px 10px rgba(0,0,0,0.2); }
        .logo { font-size: 32px; font-weight: 900; }
        .logo span { font-weight: 100; font-size: 18px; margin-right: 10px; }

        /* סרט רץ למבזקים */
        .breaking-news { background: #fff; border-bottom: 1px solid #ddd; padding: 10px; font-size: 14px; color: var(--n12-red); font-weight: bold; }

        .container { max-width: 1000px; margin: 20px auto; padding: 0 15px; display: grid; grid-template-columns: 1fr; gap: 20px; }
        
        /* עיצוב כתבה */
        .news-card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.05); display: flex; flex-direction: column; transition: 0.3s; border-right: 6px solid var(--walla-blue); }
        .news-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .news-card.music { border-right-color: #1db954; } /* ירוק למוזיקה */
        
        .card-content { padding: 20px; }
        .tag { font-size: 12px; font-weight: bold; color: var(--n12-red); text-transform: uppercase; margin-bottom: 8px; display: block; }
        .news-card h2 { margin: 0 0 10px 0; font-size: 22px; line-height: 1.3; color: #000; }
        .news-card p { margin: 0; line-height: 1.6; color: #555; }

        .time { font-size: 11px; color: #999; margin-top: 15px; display: block; }

        @media (min-width: 768px) { .container { grid-template-columns: 1fr 1fr; } }
    </style>
</head>
<body>

<header>
    <div class="logo">מרכז החרדים<span>| חדשות 24/7</span></div>
</header>

<div class="breaking-news">
    <marquee scrollamount="5">מבזק: כוננות שיא לקראת אירועי הערב • עולם הישיבות נערך לזמן קיץ • סינגל חדש למרדכי בן דוד בדרך... </marquee>
</div>

<div class="container" id="news-content">
    <div class="news-card">
        <div class="card-content">
            <span class="tag">פוליטיקה</span>
            <h2>דרמה בכנסת: חוק הגיוס עולה להצבעה מכרעת</h2>
            <p>הערב צפויה להתקיים ההצבעה שמעסיקה את כל המגזר החרדי. בסיעות החרדיות מבהירים: "לא נתפשר על עולם התורה".</p>
            <span class="time">פורסם לפני שעה</span>
        </div>
    </div>

    <div class="news-card music">
        <div class="card-content">
            <span class="tag" style="color: #1db954;">מוזיקה</span>
            <h2>בכורה: פריד ושוואקי בדואט היסטורי</h2>
            <p>שני ענקי הזמר היהודי נפגשו באולפן בניו יורק להקלטת שיר חדש שצפוי להפוך ללהיט של החתונות בחורף הקרוב.</p>
            <span class="time">פורסם לפני שעתיים</span>
        </div>
    </div>

    <div class="news-card">
        <div class="card-content">
            <span class="tag">כלכלה</span>
            <h2>מחירי הדיור בבני ברק: עלייה של 4% ברבעון האחרון</h2>
            <p>למרות המצב, הביקוש בערים החרדיות נשאר בשיא. מומחי נדל"ן: "אין פתרון קרוב למצוקת הדיור".</p>
            <span class="time">פורסם לפני 4 שעות</span>
        </div>
    </div>

    </div>

<script>
    const sheetURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSEiMj_g_wbxpfVx5Gz8Wquy59Sjw7o6ZRGHOVmdVvgst1yQEIrFAkeUnsitnyWNJ7pWvTnE8CPjkDT/pub?output=csv';

    async function fetchFromSheet() {
        try {
            const response = await fetch(sheetURL);
            const data = await response.text();
            const rows = data.split('\n').slice(1);
            const container = document.getElementById('news-content');

            rows.forEach(row => {
                const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                if (cols.length >= 2) {
                    const title = cols[0].replace(/"/g, '');
                    const content = cols[1].replace(/"/g, '');
                    const category = (cols[2] || 'עדכון').replace(/"/g, '');
                    const isMusic = category.includes('מוזיקה');

                    const html = `
                        <div class="news-card ${isMusic ? 'music' : ''}">
                            <div class="card-content">
                                <span class="tag" style="${isMusic ? 'color: #1db954;' : ''}">${category}</span>
                                <h2>${title}</h2>
                                <p>${content}</p>
                                <span class="time">עדכון מהטבלה</span>
                            </div>
                        </div>
                    `;
                    container.innerHTML += html;
                }
            });
        } catch (e) { console.log("Error loading sheet"); }
    }
    fetchFromSheet();
</script>

</body>
</html>
